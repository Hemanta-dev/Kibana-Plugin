{"version":3,"file":"0.plugin.js","sources":["/plugin:hemanta/plugins/hemanta/public/application.tsx","/plugin:hemanta/plugins/hemanta/public/components/app.tsx"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HemantaApp } from './components/app';\nexport const renderApp = ({\n  notifications,\n  http\n}, {\n  navigation\n}, {\n  appBasePath,\n  element\n}) => {\n  ReactDOM.render( /*#__PURE__*/React.createElement(HemantaApp, {\n    basename: appBasePath,\n    notifications: notifications,\n    http: http,\n    navigation: navigation\n  }), element);\n  return () => ReactDOM.unmountComponentAtNode(element);\n};","/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect } from 'react';\nimport { I18nProvider } from '@kbn/i18n/react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { EuiButton, EuiPage, EuiPageBody, EuiPageContent, EuiPageContentBody, EuiPageHeader, EuiTitle, EuiFieldText, EuiFlexGroup, EuiFlexItem, EuiTable, EuiTableHeader, EuiTableHeaderCell, EuiTableBody, EuiTableRow, EuiTableRowCell, EuiIcon, EuiSpacer } from '@elastic/eui';\nimport { PLUGIN_ID } from '../../common';\nexport const HemantaApp = ({\n  basename,\n  notifications,\n  http,\n  navigation\n}) => {\n  const [todos, setTodos] = useState([]);\n\n  const handleList = async () => {\n    try {\n      const res = await fetch('http://localhost:8000/list-todos', {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (res.status === 200) {\n        const data = await res.json();\n        console.log(data, \"ppppppppppppppppppppppppppppppppp\");\n        setTodos(data);\n      } else {\n        throw new Error('Failed to fetch todos');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }; //reset field\n  //add todos\n\n\n  const [todosAdd, setTodosAdd] = useState({\n    todosInput: \"\"\n  });\n\n  const reset = () => {\n    setTodosAdd({\n      todosInput: \"\"\n    });\n  };\n\n  const handleInputs = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setTodosAdd({ ...todosAdd,\n      [name]: value\n    });\n  };\n\n  const handleAdd = async () => {\n    try {\n      const {\n        todosInput\n      } = todosAdd;\n\n      if (!todosInput) {\n        console.log(\"Please fill all fields\");\n        return;\n      }\n\n      const response = await fetch(\"http://localhost:8000/add-todos\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          todosInput\n        })\n      }); // const data = await response.json();\n\n      if (response.ok) {\n        window.alert(\"Todos Added Successfully\");\n        console.log(\"Todos Added Successfully\");\n        handleList();\n        reset();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }; //delete button work \n\n\n  const handleDelete = async id => {\n    console.log(id, \"99999999999999999999\");\n\n    try {\n      const res = await fetch(`http://localhost:8000/delete-todos/${id}`, {\n        method: 'DELETE',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (res.status === 200) {\n        window.alert(\"Todos Deleted Successfully\");\n        handleList();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }; //get by id \n\n\n  const [editTodos, setEditTodos] = useState(false);\n\n  const handleEdit = async id => {\n    try {\n      const res = await fetch(`http://localhost:8000/get-todos/${id}`, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (res.status === 200) {\n        const data = await res.json();\n        const updateData = data.todo.todosInput;\n        const updateId = data.todo._id;\n        console.log(updateData, \"66666666666666666\");\n        setEditTodos(true);\n        setTodosAdd({\n          id: updateId,\n          todosInput: updateData\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }; //edit \n\n\n  const handleEditTodos = async id => {\n    try {\n      const {\n        todosInput\n      } = todosAdd;\n\n      if (!todosInput) {\n        console.log(\"Please fill all fields\");\n        return;\n      }\n\n      const response = await fetch(`http://localhost:8000/edit-todos/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          todosInput\n        })\n      }); // const data = await response.json();\n\n      if (response.ok) {\n        console.log(\"Todos Edited Successfully\");\n        window.alert(\"Todos Edited Successfully\");\n        setEditTodos(false);\n        handleList();\n        reset();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    handleList();\n  }, []);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename\n  }, /*#__PURE__*/React.createElement(I18nProvider, null, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(navigation.ui.TopNavMenu, {\n    appName: PLUGIN_ID,\n    showSearchBar: true,\n    useDefaultBehaviors: true\n  }), /*#__PURE__*/React.createElement(EuiPage, {\n    restrictWidth: \"1000px\"\n  }, /*#__PURE__*/React.createElement(EuiPageBody, null, /*#__PURE__*/React.createElement(EuiPageHeader, null, /*#__PURE__*/React.createElement(EuiTitle, {\n    size: \"l\"\n  }, /*#__PURE__*/React.createElement(\"h1\", null, \"Todo List\"))), /*#__PURE__*/React.createElement(EuiPageContent, null, /*#__PURE__*/React.createElement(EuiPageContentBody, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    justifyContent: \"spaceBetween\"\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false,\n    className: \"inputField\"\n  }, /*#__PURE__*/React.createElement(EuiFieldText, {\n    type: \"text\",\n    name: \"todosInput\",\n    value: todosAdd.todosInput,\n    onChange: handleInputs,\n    placeholder: \"please add your today list ...........\"\n  })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, editTodos ? /*#__PURE__*/React.createElement(EuiButton, {\n    size: \"s\",\n    color: \"primary\",\n    fill: true,\n    onClick: () => {\n      handleEditTodos(todosAdd.id);\n    }\n  }, \"Edit\") : /*#__PURE__*/React.createElement(EuiButton, {\n    size: \"s\",\n    color: \"primary\",\n    fill: true,\n    onClick: handleAdd\n  }, \"Add\"))), /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"xl\"\n  }), /*#__PURE__*/React.createElement(EuiTable, null, /*#__PURE__*/React.createElement(EuiTableHeader, null, /*#__PURE__*/React.createElement(EuiTableHeaderCell, null, \"S.N\"), /*#__PURE__*/React.createElement(EuiTableHeaderCell, null, \"Todo List\"), /*#__PURE__*/React.createElement(EuiTableHeaderCell, null, \"Action\")), /*#__PURE__*/React.createElement(EuiTableBody, null, todos.map((item, index) => /*#__PURE__*/React.createElement(EuiTableRow, {\n    key: index\n  }, /*#__PURE__*/React.createElement(EuiTableRowCell, null, index + 1), /*#__PURE__*/React.createElement(EuiTableRowCell, null, item.todosInput), /*#__PURE__*/React.createElement(EuiTableRowCell, null, /*#__PURE__*/React.createElement(EuiFlexGroup, null, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiButton, {\n    color: \"primary\",\n    fill: true,\n    size: \"s\",\n    onClick: () => {\n      handleEdit(item._id);\n    }\n  }, /*#__PURE__*/React.createElement(EuiIcon, {\n    type: \"documentEdit\",\n    size: \"m\"\n  }))), /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiButton, {\n    color: \"danger\",\n    fill: true,\n    size: \"s\",\n    onClick: () => {\n      handleDelete(item._id);\n    }\n  }, /*#__PURE__*/React.createElement(EuiIcon, {\n    type: \"trash\",\n    size: \"m\"\n  }))))))))))))))));\n};"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}